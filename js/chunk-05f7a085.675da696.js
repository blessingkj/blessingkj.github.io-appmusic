(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05f7a085"],{"1a0a":function(t,e,a){},2307:function(t,e,a){},"9ad8":function(t,e,a){"use strict";a("2307")},ba7f:function(t,e,a){"use strict";a("d610")},c84b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("DetailHeader",{attrs:{title:t.playlist.name}}),a("DetailTop",{ref:"top",attrs:{path:t.playlist.image}}),a("div",{staticClass:"bottom"},[a("ScrollView",{ref:"scrollView"},[a("DetailButton",{attrs:{songs:t.playlist.songs}})],1)],1)],1)},n=[],i=(a("b0c0"),a("4160"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Header",{staticClass:"detailHeader"},[a("div",{staticClass:"detailHeader-left",attrs:{slot:"left"},on:{click:function(e){return e.stopPropagation(),t.back(e)}},slot:"left"}),a("p",{staticClass:"detailHeader-title",attrs:{slot:"center"},slot:"center"},[t._v(t._s(t.title))]),a("div",{staticClass:"detailHeader-right",attrs:{slot:"right"},slot:"right"})])}),l=[],o=a("5530"),r=a("0418"),c=a("2f62"),u={name:"DetailHeader",components:{Header:r["a"]},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["setListScreen"])),{},{back:function(){window.history.back(),this.setListScreen(!1)}}),props:{title:{type:String,default:"",required:!0}}},f=u,p=(a("fad5"),a("2877")),m=Object(p["a"])(f,i,l,!1,null,"740d87fd",null),d=m.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-top"},[a("div",{staticClass:"img-container"},[a("img",{attrs:{src:t.path,alt:""}}),a("div",{ref:"mask",staticClass:"mask"})])])},h=[],b={name:"DetailTop",props:{path:{type:String,default:"",required:!0}},methods:{changeMask:function(t){this.$refs.mask.style.opacity=t}}},y=b,v=(a("9ad8"),Object(p["a"])(y,g,h,!1,null,"679b9499",null)),D=v.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"detail-bottom"},[a("li",{staticClass:"bottom-top",on:{click:t.selectAllMusic}},[a("div",{staticClass:"bottom-icon"}),a("div",{staticClass:"bottom-title"},[t._v("播放全部")])]),t._l(t.songs,(function(e){return a("li",{key:e.songID,staticClass:"item",on:{click:function(a){return t.selectMusic(e.songID)}}},[a("h3",[t._v(t._s(e.songName))]),a("p",[t._v(t._s(e.singer))])])}))],2)},k=[],_=(a("d81d"),{name:"DetailButton",props:{songs:{type:Array,default:function(){return[]},required:!0}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["setFullScreen","setSongDetail"])),{},{selectMusic:function(t){this.setFullScreen(!0),this.setSongDetail([t])},selectAllMusic:function(){this.setFullScreen(!0);var t=this.songs.map((function(t){return t.songID}));console.log(t),this.setSongDetail([t])}})}),j=_,C=(a("fcb6"),Object(p["a"])(j,$,k,!1,null,"2252225b",null)),O=C.exports,S=a("9b91"),w=a("365c"),E={name:"Detail",components:{DetailHeader:d,DetailTop:D,DetailButton:O,ScrollView:S["a"]},data:function(){return{playlist:{name:"",image:"",songs:[]}}},created:function(){var t=this;"personalized"===this.$route.params.type?Object(w["h"])({id:this.$route.params.id}).then((function(e){t.playlist.name=e.playlist.name,t.playlist.image=e.playlist.coverImgUrl;var a=[];e.playlist.tracks.forEach((function(e){var s={};s.songID=e.id,s.songName=e.name,s.singer="",e.ar.forEach((function(t,e){0===e?s.singer=t.name:s.singer+="-"+t.name})),a.push(s),t.playlist.songs=a}))}))["catch"]((function(){console.log("获取推荐歌单数据失败")})):"albums"===this.$route.params.type?Object(w["a"])({id:this.$route.params.id}).then((function(e){t.playlist.name=e.album.name,t.playlist.image=e.album.picUrl;var a=[];e.songs.forEach((function(e){var s={};s.songID=e.id,s.songName=e.name,s.singer="",e.ar.forEach((function(t,e){0===e?s.singer=t.name:s.singer+="-"+t.name})),a.push(s),t.playlist.songs=a}))}))["catch"]((function(){console.log("获取最新专辑数据失败")})):"singer"===this.$route.params.type?Object(w["c"])({id:this.$route.params.id}).then((function(e){t.playlist.name=e.artist.name,t.playlist.image=e.artist.picUrl;var a=[];e.hotSongs.forEach((function(e){var s={};s.songID=e.id,s.songName=e.name,s.singer="",e.ar.forEach((function(t,e){0===e?s.singer=t.name:s.singer+="-"+t.name})),a.push(s),t.playlist.songs=a}))}))["catch"]((function(){console.log("获取歌手歌曲数据失败")})):"rank"===this.$route.params.type&&Object(w["h"])({id:this.$route.params.id}).then((function(e){t.playlist.name=e.playlist.name,t.playlist.image=e.playlist.coverImgUrl;var a=[];e.playlist.tracks.forEach((function(e){var s={};s.songID=e.id,s.songName=e.name,s.singer="",e.ar.forEach((function(t,e){0===e?s.singer=t.name:s.singer+="-"+t.name})),a.push(s),t.playlist.songs=a}))}))["catch"]((function(){console.log("获取排行版歌曲数据失败")}))},mounted:function(){var t=this,e=this.$refs.top.$el.offsetHeight;this.$refs.scrollView.scrolling((function(a){if(a<0){var s=.15+Math.abs(a)/e;t.$refs.top.changeMask(s)}else{var n=1+a/e;t.$refs.top.$el.style.transform="scale(".concat(n,")")}}))}},H=E,I=(a("ba7f"),Object(p["a"])(H,s,n,!1,null,"3218723e",null));e["default"]=I.exports},cc21:function(t,e,a){},d610:function(t,e,a){},d81d:function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").map,i=a("1dde"),l=i("map");s({target:"Array",proto:!0,forced:!l},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},fad5:function(t,e,a){"use strict";a("1a0a")},fcb6:function(t,e,a){"use strict";a("cc21")}}]);
//# sourceMappingURL=chunk-05f7a085.675da696.js.map