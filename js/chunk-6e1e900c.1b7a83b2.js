(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e1e900c"],{"0169":function(t,e,i){},"7f43":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singer"},[i("div",{staticClass:"singer-wrapper"},[i("ScrollView",{ref:"scrollView"},[i("ul",{staticClass:"list-wrapper"},t._l(t.list,(function(e,s){return i("li",{key:s,ref:"group",refInFor:!0,staticClass:"list-group"},[i("h2",{staticClass:"group-title"},[t._v(t._s(t.keys[s]))]),i("ul",t._l(t.list[s],(function(e){return i("li",{key:e.singerID,staticClass:"group-item",on:{click:function(i){return i.stopPropagation(),t.switchSinger(e.singerID)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.singerImg,expression:"obj.singerImg"}],attrs:{alt:""}}),i("p",[t._v(t._s(e.singer))])])})),0)])})),0)]),i("ul",{staticClass:"list-keys"},t._l(t.keys,(function(e,s){return i("li",{key:e,class:{active:t.currentIndex===s},attrs:{"data-index":s},on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.touchstart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.touchmove(e)}}},[t._v(t._s(e))])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.fixTitle,expression:"fixTitle !== '' "}],ref:"fixTitle",staticClass:"fix-title"},[t._v(t._s(t.fixTitle))])],1),i("transition",[i("router-view")],1)],1)},n=[],r=(i("d3b7"),i("ddb0"),i("e25e"),i("4160"),i("159b"),i("365c")),o=i("9b91"),a={name:"Singer",components:{ScrollView:o["a"]},data:function(){return{keys:[],list:[],groupsTop:[],currentIndex:0,beginOffsetY:0,moveOffsetY:0,scrollY:0}},computed:{fixTitle:function(){return this.scrollY>=0?"":this.keys[this.currentIndex]}},created:function(){var t=this;Object(r["b"])().then((function(e){t.keys=e.keys,t.list=e.list}))["catch"]((function(t){console.log(t)}))},mounted:function(){var t=this;this.$refs.scrollView.scrolling((function(e){if(t.scrollY=e,e>=0)t.currentIndex=0;else{for(var i=0;i<t.groupsTop.length;i++){var s=t.groupsTop[i],n=t.groupsTop[i+1];if(Math.abs(e)>=s&&Math.abs(e)<=n){t.currentIndex=i;var r=n+e,o=0;if(o=r>=0&&r<=t.fixTitleHeight?r-t.fixTitleHeight:0,o===t.fixTitleOffsetY)return;return t.fixTitleOffsetY=o,void(t.$refs.fixTitle.style.transform="translateY(".concat(o,"px)"))}}t.currentIndex=t.groupsTop.length-1}}))},methods:{_keyDown:function(t){this.currentIndex=t;var e=this.groupsTop[t];this.$refs.scrollView.scrollTo(0,-e)},touchstart:function(t){var e=parseInt(t.target.dataset.index);this._keyDown(e),this.beginOffsetY=t.touches[0].pageY},touchmove:function(t){this.moveOffsetY=t.touches[0].pageY;var e=(this.moveOffsetY-this.beginOffsetY)/t.target.offsetHeight,i=parseInt(t.target.dataset.index)+Math.floor(e);i<0?i=0:i>this.keys.length-1&&(i=this.keys.length-1),this._keyDown(i)},switchSinger:function(t){this.$router.push("/singer/detail/".concat(t,"/singer"))}},watch:{list:function(){var t=this;this.$nextTick((function(){t.$refs.group.forEach((function(e){t.groupsTop.push(e.offsetTop)}))}))},fixTitle:function(){var t=this;this.$nextTick((function(){t.fixTitleHeight=t.$refs.fixTitle.offsetHeight}))}}},c=a,l=(i("bf56"),i("2877")),f=Object(l["a"])(c,s,n,!1,null,"281b2d4d",null);e["default"]=f.exports},bf56:function(t,e,i){"use strict";i("0169")}}]);
//# sourceMappingURL=chunk-6e1e900c.1b7a83b2.js.map